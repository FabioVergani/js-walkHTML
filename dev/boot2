walk=(
 function(global){'use strict';
  var w=global,p='htmlWALKER';
  return w[p]||w.Object.freeze(w[p]=function(from){
	var e=from, d=e.ownerDocument, w=d.defaultView, df=d.createDocumentFragment(),
	f=function(o,p){var e=o;return e[p].bind(e);},
	console=w.console,
	log=f(console,'log'),
	dir=f(console,'dir'),
	createText=f(d,'createTextNode'),
	createTag=f(d,'createElement'),
	handler=function(depth,j,x){//# i:depth, j:childnum, x:elementNode

	 var f=createTag, t=createText, e=df, m=e.m, i=depth, ul=m[i];

	 if(typeof(ul)==='undefined'){ul=m[i]=e.appendChild(f('ul'));};
	 ul.appendChild(t(i));
	 ul.appendChild(f('li').appendChild(t(j+':'+x.tagName)));

	 //log(Array(i).join('\t'),i,j,x.tagName);
	},
	k=false,
	j=0,
	i=0,
	n;
	//#
	f=handler;
	df.m=[];
	//#
	do{
		f(i,j,e);
		n=e.firstElementChild;
		if(k===false && n!==null){
			j=0;i++;
		}else{
			k=false;
			n=e.nextElementSibling;
			if(n===null){n=e.parentElement;k=true;j=0;i--;};
		};
		j++;
		e=n;
	}while(i>0);
	//#
	dir(df);
	df=null;
 });
})(window);
//=============
